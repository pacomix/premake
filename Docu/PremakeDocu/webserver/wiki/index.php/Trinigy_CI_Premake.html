<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html lang="en" dir="ltr">

<!-- Mirrored from webserver/wiki/index.php/Trinigy:CI:Premake by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 02 Jan 2015 10:27:12 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<title>Trinigy:CI:Premake - CompanyWiki</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="generator" content="MediaWiki 1.16.2" />
<link rel="shortcut icon" href="http://webserver/favicon.ico" />
<link rel="search" type="application/opensearchdescription+xml" href="http://webserver/wiki/opensearch_desc.php" title="CompanyWiki (en)" />
<link rel="alternate" type="application/atom+xml" title="CompanyWiki Atom feed" href="http://webserver/wiki/index.php?title=Special:RecentChanges&amp;feed=atom" />
<link rel="stylesheet" href="../skins/common/shared3905.css?270" media="screen" />
<link rel="stylesheet" href="../skins/common/commonPrint3905.css?270" media="print" />
<link rel="stylesheet" href="../skins/monobook/main3905.css?270" media="screen" />
<!--[if lt IE 5.5000]><link rel="stylesheet" href="/wiki/skins/monobook/IE50Fixes.css?270" media="screen" /><![endif]-->
<!--[if IE 5.5000]><link rel="stylesheet" href="/wiki/skins/monobook/IE55Fixes.css?270" media="screen" /><![endif]-->
<!--[if IE 6]><link rel="stylesheet" href="/wiki/skins/monobook/IE60Fixes.css?270" media="screen" /><![endif]-->
<!--[if IE 7]><link rel="stylesheet" href="/wiki/skins/monobook/IE70Fixes.css?270" media="screen" /><![endif]-->
<link rel="stylesheet" href="http://webserver/wiki/index.php?title=MediaWiki:Common.css&amp;usemsgcache=yes&amp;ctype=text%2Fcss&amp;smaxage=18000&amp;action=raw&amp;maxage=18000" />
<link rel="stylesheet" href="http://webserver/wiki/index.php?title=MediaWiki:Print.css&amp;usemsgcache=yes&amp;ctype=text%2Fcss&amp;smaxage=18000&amp;action=raw&amp;maxage=18000" media="print" />
<link rel="stylesheet" href="http://webserver/wiki/index.php?title=MediaWiki:Monobook.css&amp;usemsgcache=yes&amp;ctype=text%2Fcss&amp;smaxage=18000&amp;action=raw&amp;maxage=18000" />
<link rel="stylesheet" href="http://webserver/wiki/index.php?title=-&amp;action=raw&amp;maxage=18000&amp;gen=css" />
<script>
var skin="monobook",
stylepath="/wiki/skins",
wgUrlProtocols="file\\:\\/\\/|http\\:\\/\\/|https\\:\\/\\/|ftp\\:\\/\\/|irc\\:\\/\\/|gopher\\:\\/\\/|telnet\\:\\/\\/|nntp\\:\\/\\/|worldwind\\:\\/\\/|mailto\\:|news\\:",
wgArticlePath="/wiki/index.php/$1",
wgScriptPath="/wiki",
wgScriptExtension=".php",
wgScript="http://webserver/wiki/index.php",
wgVariantArticlePath=false,
wgActionPaths={},
wgServer="http://webserver/",
wgCanonicalNamespace="",
wgCanonicalSpecialPageName=false,
wgNamespaceNumber=0,
wgPageName="Trinigy:CI:Premake",
wgTitle="Trinigy:CI:Premake",
wgAction="view",
wgArticleId=1654,
wgIsArticle=true,
wgUserName=null,
wgUserGroups=null,
wgUserLanguage="en",
wgContentLanguage="en",
wgBreakFrames=false,
wgCurRevisionId=4655,
wgVersion="1.16.2",
wgEnableAPI=true,
wgEnableWriteAPI=true,
wgSeparatorTransformTable=["", ""],
wgDigitTransformTable=["", ""],
wgMainPageTitle="Main Page",
wgFormattedNamespaces={"-2": "Media", "-1": "Special", "0": "", "1": "Talk", "2": "User", "3": "User talk", "4": "CompanyWiki", "5": "CompanyWiki talk", "6": "File", "7": "File talk", "8": "MediaWiki", "9": "MediaWiki talk", "10": "Template", "11": "Template talk", "12": "Help", "13": "Help talk", "14": "Category", "15": "Category talk"},
wgNamespaceIds={"media": -2, "special": -1, "": 0, "talk": 1, "user": 2, "user_talk": 3, "companywiki": 4, "companywiki_talk": 5, "file": 6, "file_talk": 7, "mediawiki": 8, "mediawiki_talk": 9, "template": 10, "template_talk": 11, "help": 12, "help_talk": 13, "category": 14, "category_talk": 15, "image": 6, "image_talk": 7},
wgSiteName="CompanyWiki",
wgCategories=[],
wgRestrictionEdit=[],
wgRestrictionMove=[];
</script><script src="../skins/common/wikibits3905.js?270"></script>
<script src="../skins/common/ajax3905.js?270"></script>
<script src="http://webserver/wiki/index.php?title=-&amp;action=raw&amp;gen=js&amp;useskin=monobook&amp;270"></script>

</head>
<body class="mediawiki ltr ns-0 ns-subject page-Trinigy_CI_Premake skin-monobook">
<div id="globalWrapper">
<div id="column-content"><div id="content" >
	<a id="top"></a>
	
	<h1 id="firstHeading" class="firstHeading">Trinigy:CI:Premake</h1>
	<div id="bodyContent">
		<h3 id="siteSub">From CompanyWiki</h3>
		<div id="contentSub"></div>
		<div id="jump-to-nav">Jump to: <a href="#column-one">navigation</a>, <a href="#searchInput">search</a></div>
		<!-- start content -->
<table id="toc" class="toc"><tr><td><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#What_is_PREMAKE.3F"><span class="tocnumber">1</span> <span class="toctext">What is PREMAKE?</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Why.3F"><span class="tocnumber">2</span> <span class="toctext">Why?</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#How_to_use.3F"><span class="tocnumber">3</span> <span class="toctext">How to use?</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#How_to_write_script_files.3F"><span class="tocnumber">4</span> <span class="toctext">How to write script files?</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="#Working_Procedure"><span class="tocnumber">5</span> <span class="toctext">Working Procedure</span></a></li>
<li class="toclevel-1 tocsection-6"><a href="#Scripted_Projects"><span class="tocnumber">6</span> <span class="toctext">Scripted Projects</span></a></li>
<li class="toclevel-1 tocsection-7"><a href="#Notes"><span class="tocnumber">7</span> <span class="toctext">Notes</span></a></li>
<li class="toclevel-1 tocsection-8"><a href="#Missing_features"><span class="tocnumber">8</span> <span class="toctext">Missing features</span></a>
<ul>
<li class="toclevel-2 tocsection-9"><a href="#Critical"><span class="tocnumber">8.1</span> <span class="toctext">Critical</span></a></li>
<li class="toclevel-2 tocsection-10"><a href="#Non-Critical"><span class="tocnumber">8.2</span> <span class="toctext">Non-Critical</span></a></li>
</ul>
</li>
</ul>
</td></tr></table><script>if (window.showTocToggle) { var tocShowText = "show"; var tocHideText = "hide"; showTocToggle(); } </script>
<h2> <span class="mw-headline" id="What_is_PREMAKE.3F"> What is PREMAKE? </span></h2>
<ul><li> Premake is a tool that generates Visual Studio Solution and Project files starting from a description of them.
</li><li> Premake take as input a script file defining the solution and projects, and outputs a Visual Studio 2008/2010 or XCode 3.2 solution and project files.
</li></ul>
<h2> <span class="mw-headline" id="Why.3F"> Why? </span></h2>
<ul><li> When you have to maintain build configurations for small solutions/projects it would be ok to do it directly in Visual Studio but when you have like 10 possible build configurations introducing a change in them is error prone. There is always a forgotten parameter in one or two build configurations, etc...
</li><li> When merging solution/project files is more than possible that the merge doesn't finish correctly because of having configuration blocks in different locations, etc. With Premake we will assure that the same project file will be always generated by reducing those merge problems in a 99.9999%.
</li></ul>
<h2> <span class="mw-headline" id="How_to_use.3F"> How to use? </span></h2>
<ul><li> Premake is located at trunk/vABC/Premake and we are using a heavily modified version of it. The original version wasn't supporting several critical <i>(for us)</i> functionality that we require in our projects. You can find a changelist <a href="Trinigy_CI_Premake_Changelist.html" title="Trinigy:CI:Premake:Changelist"><i><b>here</b></i></a>.
</li><li> The tool syntax is:
</li></ul>
<pre>premake4mod.exe --file=<i>name-of-the-solution.lua</i> <i>ide</i>
<b>name-of-the-solution.lua</b> - Script file name used to describe the solution
<b>IDE</b> - Supported output IDEs: vs2008, vs2010 or xcode3
</pre>
<ul><li> To simplify even more the things we just wrote a GenerateSolution.bat file in the place where every solution script is. So for re-generating the solution/projects you will only have to execute this .bat file.
</li></ul>
<h2> <span class="mw-headline" id="How_to_write_script_files.3F"> How to write script files? </span></h2>
<ul><li> In order to keep the things easy you will not have to learn the specific Premake functions but a set of global variables that defines the solution and every project inside. This set of global variables is later used in a script that calls Premake system functions to generate correctly the solution and projects.
</li><li> Premake uses Lua as project script files. That means that you can do whatever you like in the script in order to assign the required variables.
</li><li> The Lua script files needed to define a solution/project are exactly the same count as for a Visual Studio Solution. This means that for each .sln file there is a Premake Lua script defining the solution and for every .vc(x)proj there is another script defining the project. In order to simplify things the location of those script files should be exactly the same place as the .sln/.vc(x)proj files.
</li><li> Every solution/project file should follow this naming:
</li></ul>
<pre>Sln-OriginalNameOfTheSolution.lua
Prj-OriginalNameOfTheProject.lua
</pre>
<ul><li> If you have the need to add a new solution/project to the system you have two choices:
<ul><li> Use one of the existing script files and start from there.
</li><li> Use one of the script templates located at trunk/vABC/Premake/templates
</li><li> Create a Solution + Projects in Visual Studio 2008 and use <a href="Trinigy_CI_Premake_VS2Premake.html" title="Trinigy:CI:Premake:VS2Premake">VS2Premake</a> to generate a base script from where to start. But keep in mind the next points:
<ul><li> No solution script file is written.
</li><li> This is only valid for project files created for Visual Studio 2008. No support for Visual Studio 2010.
</li><li> The content MUST be ALWAYS reviewed. This is intended to aid as a first step.
</li><li> C# project files are not supported.
</li></ul>
</li></ul>
</li></ul>
<ul><li> For every solution and project a Sln-OriginalNameOfTheSolution.lua and a Prj-OriginalNameOfTheProject.lua file must respectively exist in the same place as the original .sln and .vc(x)proj files.
<ul><li> A description of the <a href="Trinigy_CI_Premake_Solution.html" title="Trinigy:CI:Premake:Solution"><i><b>Solution scripts</b></i></a> can be found <a href="Trinigy_CI_Premake_Solution.html" title="Trinigy:CI:Premake:Solution"><i><b>here</b></i></a>.
</li><li> A description of the <a href="Trinigy_CI_Premake_Project.html" title="Trinigy:CI:Premake:Project"><i><b>Project scripts</b></i></a> can be found <a href="Trinigy_CI_Premake_Project.html" title="Trinigy:CI:Premake:Project"><i><b>here</b></i></a>.
</li></ul>
</li></ul>
<h2> <span class="mw-headline" id="Working_Procedure"> Working Procedure </span></h2>
<ul><li> Until now we have been always modifying solution and projects directly in Visual Studio. Starting from now on this will be absolutely forbidden.
</li><li> When you have to change any of the configuration of a solution/project you will have to do it by modifying the equivalent <a href="Trinigy_CI_Premake_Project.html" title="Trinigy:CI:Premake:Project">project</a> or <a href="Trinigy_CI_Premake_Solution.html" title="Trinigy:CI:Premake:Solution">solution</a> script file.
</li><li> Once you are done with the modifications you will have to re-generate the solution affected by either using directly the premake4mod.exe tool or using the GenerateSolution.bat files.
</li><li> Then build and see that the change is working properly.
</li><li> When committing, the modified script files and solution/projects files should be committed.
</li></ul>
<h2> <span class="mw-headline" id="Scripted_Projects"> Scripted Projects </span></h2>
<ul><li> At the moment the next solutions and its respective projects have been implemented:
</li></ul>
<pre>- trunk/vBase
- trunk/vBase/GLES2ShaderProcessor  
- trunk/vBase/PSP2ShaderProcessor
- trunk/vBaseUI
- trunk/vGeom2
- trunk/vGeom
- trunk/shared/projects/SPU 
- trunk/shared/projects/vForkEnginePlugin
- trunk/shared/projects/vBrowserPluginBackend
- trunk/shared/projects/Speedtree5EnginePlugin
- trunk/shared/projects/SoundEnginePlugin
- trunk/shared/projects/RemoteCommunicationManaged
- trunk/shared/projects/VisionEnginePlugin 
- trunk/shared/projects/vPhysXEnginePlugin
- trunk/Engine
- trunk/EngineEditor
- trunk/EngineSamples
- trunk/vSceneViewer
- trunk/external/RakNet/4.0
- trunk/shared/projects/RakNetEnginePlugin
</pre>
<h2> <span class="mw-headline" id="Notes"> Notes </span></h2>
<ul><li> Please remember that this tool is still a work in progress though it is quite stable. It is still possible that under certain circumstances it throws an error. In such case please get in touch with the Build &amp; Integration Team.
</li></ul>
<h2> <span class="mw-headline" id="Missing_features"> Missing features </span></h2>
<h4> <span class="mw-headline" id="Critical"> Critical </span></h4>
<ul><li> None.
</li></ul>
<h4> <span class="mw-headline" id="Non-Critical"> Non-Critical </span></h4>
<ul><li>Support for any amount of project configurations in the main script. Iterate through the project configurations and use the same build configurations to check if entries do exist in tables.
</li><li>Use of flags. When specifying a flag, the parameter that is modified should be explicitly set in Visual Studio. The absence of flag(s) that modifies a parameter should make the default option be selected. This is not always happening.
</li><li>Add flags to allow specifying directly the inline optimization level.
</li></ul>

<!-- 
NewPP limit report
Preprocessor node count: 38/1000000
Post-expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Expensive parser function count: 0/100
-->

<!-- Saved in parser cache with key wiki:pcache:idhash:1654-0!1!0!!en!2!edit=0 and timestamp 20150102100134 -->
<div class="printfooter">
Retrieved from "<a href="Trinigy_CI_Premake.html">http://webserver/wiki/index.php/Trinigy:CI:Premake</a>"</div>
		<div id='catlinks' class='catlinks catlinks-allhidden'></div>		<!-- end content -->
				<div class="visualClear"></div>
	</div>
</div></div>
<div id="column-one">
	<div id="p-cactions" class="portlet">
		<h5>Views</h5>
		<div class="pBody">
			<ul>
				 <li id="ca-nstab-main" class="selected"><a href="Trinigy_CI_Premake.html" title="View the content page [c]" accesskey="c">Page</a></li>
				 <li id="ca-talk" class="new"><a href="http://webserver/wiki/index.php?title=Talk:Trinigy:CI:Premake&amp;action=edit&amp;redlink=1" title="Discussion about the content page [t]" accesskey="t">Discussion</a></li>
				 <li id="ca-viewsource"><a href="http://webserver/wiki/index.php?title=Trinigy:CI:Premake&amp;action=edit" title="This page is protected.&#10;You can view its source [e]" accesskey="e">View source</a></li>
				 <li id="ca-history"><a href="http://webserver/wiki/index.php?title=Trinigy:CI:Premake&amp;action=history" title="Past revisions of this page [h]" accesskey="h">History</a></li>
			</ul>
		</div>
	</div>
	<div class="portlet" id="p-personal">
		<h5>Personal tools</h5>
		<div class="pBody">
			<ul>
				<li id="pt-login"><a href="http://webserver/wiki/index.php?title=Special:UserLogin&amp;returnto=Trinigy:CI:Premake" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in / create account</a></li>
			</ul>
		</div>
	</div>
	<div class="portlet" id="p-logo">
		<a style="background-image: url(../skins/common/images/wiki.png);" href="Main_Page.html" title="Visit the main page"></a>
	</div>
	<script type="text/javascript"> if (window.isMSIE55) fixalpha(); </script>
	<div class='generated-sidebar portlet' id='p-navigation'>
		<h5>Navigation</h5>
		<div class='pBody'>
			<ul>
				<li id="n-mainpage-description"><a href="Main_Page.html" title="Visit the main page [z]" accesskey="z">Main page</a></li>
				<li id="n-portal"><a href="CompanyWiki_Community_portal.html" title="About the project, what you can do, where to find things">Community portal</a></li>
				<li id="n-currentevents"><a href="CompanyWiki_Current_events.html" title="Find background information on current events">Current events</a></li>
				<li id="n-recentchanges"><a href="Special_RecentChanges.html" title="The list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li>
				<li id="n-randompage"><a href="Admin_VServerMail.html" title="Load a random page [x]" accesskey="x">Random page</a></li>
				<li id="n-help"><a href="Help_Contents.html" title="The place to find out">Help</a></li>
			</ul>
		</div>
	</div>
	<div id="p-search" class="portlet">
		<h5><label for="searchInput">Search</label></h5>
		<div id="searchBody" class="pBody">
			<form action="http://webserver/wiki/index.php" id="searchform">
				<input type='hidden' name="title" value="Special:Search"/>
				<input id="searchInput" title="Search CompanyWiki" accesskey="f" type="search" name="search" />
				<input type='submit' name="go" class="searchButton" id="searchGoButton"	value="Go" title="Go to a page with this exact name if exists" />&nbsp;
				<input type='submit' name="fulltext" class="searchButton" id="mw-searchButton" value="Search" title="Search the pages for this text" />
			</form>
		</div>
	</div>
	<div class="portlet" id="p-tb">
		<h5>Toolbox</h5>
		<div class="pBody">
			<ul>
				<li id="t-whatlinkshere"><a href="Special_WhatLinksHere/Trinigy_CI_Premake.html" title="List of all wiki pages that link here [j]" accesskey="j">What links here</a></li>
				<li id="t-recentchangeslinked"><a href="Special_RecentChangesLinked/Trinigy_CI_Premake.html" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li>
<li id="t-specialpages"><a href="Special_SpecialPages.html" title="List of all special pages [q]" accesskey="q">Special pages</a></li>
				<li id="t-print"><a href="http://webserver/wiki/index.php?title=Trinigy:CI:Premake&amp;printable=yes" rel="alternate" title="Printable version of this page [p]" accesskey="p">Printable version</a></li>				<li id="t-permalink"><a href="http://webserver/wiki/index.php?title=Trinigy:CI:Premake&amp;oldid=4655" title="Permanent link to this revision of the page">Permanent link</a></li>			</ul>
		</div>
	</div>
</div><!-- end of the left (by default at least) column -->
<div class="visualClear"></div>
<div id="footer">
	<div id="f-poweredbyico"><a href="http://www.mediawiki.org/"><img src="../skins/common/images/poweredby_mediawiki_88x31.png" height="31" width="88" alt="Powered by MediaWiki" /></a></div>
	<ul id="f-list">
		<li id="lastmod"> This page was last modified on 19 October 2011, at 07:47.</li>
		<li id="viewcount">This page has been accessed 131 times.</li>
		<li id="privacy"><a href="CompanyWiki_Privacy_policy.html" title="CompanyWiki:Privacy policy">Privacy policy</a></li>
		<li id="about"><a href="CompanyWiki_About.html" title="CompanyWiki:About">About CompanyWiki</a></li>
		<li id="disclaimer"><a href="CompanyWiki_General_disclaimer.html" title="CompanyWiki:General disclaimer">Disclaimers</a></li>
	</ul>
</div>
</div>

<script>if (window.runOnloadHook) runOnloadHook();</script>
<!-- Served in 0.305 secs. --></body>
<!-- Mirrored from webserver/wiki/index.php/Trinigy:CI:Premake by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 02 Jan 2015 10:27:23 GMT -->
</html>
